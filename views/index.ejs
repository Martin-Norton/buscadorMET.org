<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="icon" href="/images/met.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buscadorMET</title>
    <link rel="stylesheet" href="/css/styles.css"> <!-- hoja de estilos general -->
    <link rel="stylesheet" href="/css/buscador.css"> <!-- hoja de estilos especifica de la vista -->
</head>

<body>
    <!-- formulario de busqueda de objetos  -->
    <h1>Buscar Objetos de Arte</h1>
    <form id="search-form" action="/search" method="GET">
        <label for="departmentId">Departamento:</label>
        <!-- select para filtrar por depto, en base a lo selccionado le asigna el id correspondiente para la busqueda -->
        <!-- Info obtenida del endpoint de la api: https://collectionapi.metmuseum.org/public/collection/v1/departments -->
        <select name="departmentId" id="department">
            <option value="">Selecciona un departamento</option>
            <option value="1">Artes Decorativas Americanas</option>
            <option value="3">Arte del Antiguo Cercano Oriente</option>
            <option value="4">Armas y Armaduras</option>
            <option value="5">Artes de África, Oceanía y las Américas</option>
            <option value="6">Arte Asiático</option>
            <option value="7">El Claustro</option>
            <option value="8">El Instituto del Vestuario</option>
            <option value="9">Dibujos y Grabados</option>
            <option value="10">Arte Egipcio</option>
            <option value="11">Pinturas Europeas</option>
            <option value="12">Escultura y Artes Decorativas Europeas</option>
            <option value="13">Arte Griego y Romano</option>
            <option value="14">Arte Islámico</option>
            <option value="15">La Colección Robert Lehman</option>
            <option value="16">Las Bibliotecas</option>
            <option value="17">Arte Medieval</option>
            <option value="18">Instrumentos Musicales</option>
            <option value="19">Fotografías</option>
            <option value="21">Arte Moderno</option>
        </select>

        <label for="q">Palabra Clave:</label>
        <input type="text" name="q" id="keyword" placeholder="Por ejemplo: Armaduras">

        <label for="geoLocation">Localización:</label>
        <input type="text" name="geoLocation" id="location" placeholder="Por ejemplo: Europa">

        <button type="submit">Buscar</button>
    </form>

    <div>
        <br>
    </div>
    <!--apartado de pregntas frecuentes-->
    <div class="faqs">
        <div class="faq">
            <h2>¿Qué es el buscadorMET.org?</h2>
            <p>Es un proyecto de libre uso realizado como trabajo final integrador para la materia Programación Web II.
            </p>
        </div>

        <div class="faq">
            <h2>¿Cómo se usa?</h2>
            <p>Puedes buscar los objetos de arte del MET que te interesen, filtrándolos por el departamento al que
                pertenecen, por una palabra clave, o según la localización. ¡O todo junto!</p>
        </div>

        <div class="faq">
            <h2>¿Por qué debería usarlo?</h2>
            <p>Este buscador te permite explorar fácilmente la gigantesca colección de objetos del Museo Metropolitano
                de Arte de Nueva York, facilitando la búsqueda de obras según tus intereses específicos.</p>
        </div>

        <div class="faq">
            <h2>¿Es gratis?</h2>
            <p>Sí, este proyecto es completamente gratuito y de código abierto, con el objetivo de promover el acceso a
                la cultura y el arte.</p>
        </div>

        <div class="faq">
            <h2>Tecnologías usadas</h2>
            <div class="t-lista" style="display:none;">
                <div class="t-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/99/Unofficial_JavaScript_logo_2.svg"
                        alt="JavaScript">
                    JavaScript
                </div>
                <div class="t-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Node.js_logo.svg" alt="Node.js">
                    Node.js
                </div>
                <div class="t-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/64/Expressjs.png" alt="Express.js">
                    Express.js
                </div>
                <div class="t-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/HTML5_logo_and_wordmark.svg/640px-HTML5_logo_and_wordmark.svg.png"
                        alt="HTML5">
                    HTML 5
                </div>
                <div class="t-item">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/CSS3_logo.svg/640px-CSS3_logo.svg.png"
                        alt="CSS3">
                    CSS 3
                </div>
            </div>
        </div>
    </div>

    <!-- se incluye el pie de pagina mediante el archivo partials/footer.ejs  -->
    <%- include('partials/footer') %>

    <script>
        // logica para clickear encabezado de FAQs y asi mostrar/ocultar respuestas
        document.querySelectorAll('.faq h2').forEach(faqTitle => {
            faqTitle.addEventListener('click', () => {
                const answer = faqTitle.nextElementSibling;
                if (answer) {
                    answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
                    console.log(`Clic en ${faqTitle.innerText}`);
                }
            });
        });
        // Validacion de campos del formulario de busqueda
        document.getElementById('search-form').addEventListener('submit', function(event) {
            var department = document.getElementById('department').value.trim();
            var keyword = document.getElementById('keyword').value.trim();
            var location = document.getElementById('location').value.trim();
    
            if (department === '' && keyword === '' && location === '') {
                alert('Por favor, selecciona un departamento, o ingresa una palabra clave o localización para realizar la búsqueda.');
                event.preventDefault();
            }
        });
    </script>
</body>

</html>